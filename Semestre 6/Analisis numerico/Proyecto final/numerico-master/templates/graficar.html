<html>

<head>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/3.10.0/math.min.js"></script>

  	<!-- load http://maurizzzio.github.io/function-plot/ -->
  	<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  	<script src="https://wzrd.in/standalone/function-plot@1.14.0"></script>

</head>

<body>

	{% block content %} 
	<form id="form">
  		<label for="eq">Ingresa la ecuación (f(x) por defecto):</label>
  		<input type="text" id="eq" value="{{session["f"]}}" />
  		<input type="submit" value="Graficar" />
	</form>
	{% endblock %}

	<div id="plot"></div>

	<a href="/{{session["metodo"]}}">Volver al método</a>
	
	<script>
		
		function draw() {
    			try {
      				functionPlot({
        				target: '#plot',
        				data: [{
          				fn: document.getElementById('eq').value,
          				sampler: 'builtIn',
          				graphType: 'polyline'
        				}]
      				});
    			} catch (err) {
      				console.log(err);
      				alert(err);
    			}
  		}

  		document.getElementById('form').onsubmit = function (event) {
    			event.preventDefault();
    			draw();
  		};

  		draw();

	</script>

</body>
</html>
